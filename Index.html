<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Material Data Entry System</title>
    <?!= include('Stylesheet'); ?>
</head>
<body>
    <div class="container">
        <header>
            <h1>üè≠ Material Data Entry System</h1>
            <p>Select material and enter transaction details</p>
        </header>

        <div class="form-container">
            <form id="materialForm">
                <div class="form-group">
                    <label for="materialSelect">Select Material:</label>
                    <select id="materialSelect" required>
                        <option value="">-- Select Material --</option>
                    </select>
                </div>

                <div class="material-info" id="materialInfo" style="display: none;">
                    <h3>Material Details</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <strong>Code:</strong> <span id="materialCode"></span>
                        </div>
                        <div class="info-item">
                            <strong>Name:</strong> <span id="materialName"></span>
                        </div>
                        <div class="info-item">
                            <strong>UOM:</strong> <span id="materialUOM"></span>
                        </div>
                        <div class="info-item">
                            <strong>Opening Stock:</strong> <span id="materialOpStock"></span>
                        </div>
                        <div class="info-item">
                            <strong>Current Received:</strong> <span id="materialReceived"></span>
                        </div>
                        <div class="info-item">
                            <strong>Current Issued:</strong> <span id="materialIssued"></span>
                        </div>
                        <div class="info-item">
                            <strong>Current Return:</strong> <span id="materialReturn"></span>
                        </div>
                        <div class="info-item">
                            <strong>Closing Stock:</strong> <span id="materialClosingStock"></span>
                        </div>
                    </div>
                </div>

                <div class="transaction-section" id="transactionSection" style="display: none;">
                    <h3>Transaction Entry</h3>
                    
                    <div class="form-group">
                        <label for="operationType">Operation Type:</label>
                        <select id="operationType" required>
                            <option value="">-- Select Operation --</option>
                            <option value="received">Received</option>
                            <option value="issued">Issued</option>
                            <option value="return">Return</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="quantity">Quantity:</label>
                        <input type="number" id="quantity" step="0.01" min="0.01" required placeholder="Enter quantity">
                    </div>

                    <div class="button-group">
                        <button type="submit" class="btn btn-primary">
                            <span class="btn-text">Submit Transaction</span>
                            <span class="loading-spinner" style="display: none;">‚è≥</span>
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="resetForm()">Reset</button>
                    </div>
                </div>
            </form>
        </div>

        <div class="message-container">
            <div id="successMessage" class="message success" style="display: none;"></div>
            <div id="errorMessage" class="message error" style="display: none;"></div>
        </div>

        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-content">
                <div class="spinner"></div>
                <p>Loading materials...</p>
            </div>
        </div>
    </div>

    <?!= include('JavaScript'); ?>
</body>
</html>
